<div class="container mt-4 mb-4" style="min-width: 500px;">
  <form [formGroup]="form" (ngSubmit)="addBrojIndeksa()" class="p-4 x-4"
    style="background-color: #f8f9fa; border-radius: 0.5rem;">

    <!-- Izaberi studenta na godini -->
    <!-- Izaberi studenta (autocomplete) -->
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Izaberi studenta</mat-label>
      <input type="text" matInput formControlName="student" [matAutocomplete]="autoStudent" autocomplete="off">
      <mat-autocomplete #autoStudent="matAutocomplete" [displayWith]="displayStudent">
        <mat-option *ngFor="let s of filteredStudenti$ | async" [value]="s">
          {{ s.korisnik?.ime }} {{ s.korisnik?.prezime }}
        </mat-option>
      </mat-autocomplete>

      <mat-error *ngIf="form.get('student')?.hasError('required')">
        Polje je obavezno
      </mat-error>
      <mat-error *ngIf="form.get('student')?.hasError('studentNotSelected')">
        Morate izabrati studenta iz liste.
      </mat-error>
    </mat-form-field>

    <!-- Izaberi studijski program -->
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Izaberi studijski program</mat-label>
      <mat-select formControlName="studijskiProgram" required>
        <mat-option *ngFor="let program of studijskiProgrami" [value]="program.id">
          {{ program.naziv }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Izaberi godinu studija -->
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Izaberi godinu studija</mat-label>
      <mat-select formControlName="godinaStudija" required>
        <mat-option *ngFor="let godina of godineStudija" [value]="godina.id">
          {{ godina.godina }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Submit dugme -->
    <div class="d-flex justify-content-between">
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
        Dodeli indeks
      </button>
    </div>

  </form>

  <div *ngIf="errorMessage" class="mt-3 alert alert-info">
    {{ errorMessage }}
  </div>
</div>